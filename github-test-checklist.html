<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub é›†æˆåŠŸèƒ½æµ‹è¯•æ¸…å•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #24292e;
            border-bottom: 3px solid #0366d6;
            padding-bottom: 10px;
        }
        h2 {
            color: #0366d6;
            margin-top: 30px;
        }
        h3 {
            color: #586069;
        }
        .test-section {
            background-color: #f6f8fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .test-item {
            background-color: white;
            border: 1px solid #e1e4e8;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        .test-status {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 3px;
            margin-right: 10px;
            vertical-align: middle;
            cursor: pointer;
        }
        .test-status.passed {
            background-color: #28a745;
            border-color: #28a745;
        }
        .test-status.failed {
            background-color: #d73a49;
            border-color: #d73a49;
        }
        .test-status.pending {
            background-color: #ffd33d;
            border-color: #ffd33d;
        }
        .priority {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .priority-high { background-color: #d73a49; color: white; }
        .priority-medium { background-color: #ffd33d; color: #24292e; }
        .priority-low { background-color: #28a745; color: white; }
        .test-steps {
            background-color: #f6f8fa;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 14px;
        }
        .test-steps ol {
            margin: 5px 0;
            padding-left: 20px;
        }
        .command {
            background-color: #1b1f23;
            color: #e1e4e8;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .expected-result {
            background-color: #dcffe4;
            border: 1px solid #34d058;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .warning {
            background-color: #fffbdd;
            border: 1px solid #f0b849;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .info {
            background-color: #dfe7f3;
            border: 1px solid #79b8ff;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .progress-bar {
            background-color: #e1e4e8;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress {
            background-color: #28a745;
            height: 100%;
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .summary-card {
            display: inline-block;
            background-color: #f6f8fa;
            border: 1px solid #e1e4e8;
            border-radius: 5px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            min-width: 150px;
        }
        .summary-number {
            font-size: 32px;
            font-weight: bold;
            color: #0366d6;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f6f8fa;
            font-weight: bold;
        }
        .test-data {
            background-color: #f0f9ff;
            border: 1px solid #1890ff;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        @media print {
            .no-print {
                display: none;
            }
            .test-status {
                border-color: black !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœ… GitHub é›†æˆåŠŸèƒ½æµ‹è¯•æ¸…å•</h1>
        
        <div class="info">
            <strong>ğŸ“‹ æµ‹è¯•è¯´æ˜ï¼š</strong>
            <ul>
                <li>ç‚¹å‡»å¤é€‰æ¡†æ ‡è®°æµ‹è¯•çŠ¶æ€ï¼šâ¬œ æœªæµ‹è¯• â†’ âœ… é€šè¿‡ â†’ âŒ å¤±è´¥ â†’ âš ï¸ å¾…å®š</li>
                <li>æ¯ä¸ªæµ‹è¯•åŒ…å«è¯¦ç»†æ­¥éª¤å’Œé¢„æœŸç»“æœ</li>
                <li>è¯·æŒ‰é¡ºåºå®Œæˆæµ‹è¯•ï¼ŒæŸäº›æµ‹è¯•ä¾èµ–å‰ç½®æ¡ä»¶</li>
                <li>è®°å½•æµ‹è¯•æ—¶é—´å’Œé—®é¢˜ï¼Œä¾¿äºè¿½è¸ªå’Œæ”¹è¿›</li>
            </ul>
        </div>

        <div class="summary-card">
            <div class="summary-number" id="total-tests">0</div>
            <div>æ€»æµ‹è¯•é¡¹</div>
        </div>
        <div class="summary-card">
            <div class="summary-number" id="passed-tests">0</div>
            <div>å·²é€šè¿‡</div>
        </div>
        <div class="summary-card">
            <div class="summary-number" id="failed-tests">0</div>
            <div>å¤±è´¥</div>
        </div>
        <div class="summary-card">
            <div class="summary-number" id="pending-tests">0</div>
            <div>å¾…å®š</div>
        </div>

        <div class="progress-bar">
            <div class="progress" id="progress">0%</div>
        </div>

        <h2>ä¸€ã€ç¯å¢ƒå‡†å¤‡æµ‹è¯•</h2>
        
        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>1.1 ç¯å¢ƒå˜é‡é…ç½®</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>æ£€æŸ¥ .env æ–‡ä»¶æ˜¯å¦å­˜åœ¨</li>
                        <li>ç¡®è®¤ä»¥ä¸‹ç¯å¢ƒå˜é‡å·²è®¾ç½®ï¼š</li>
                    </ol>
                    <div class="command">
cat .env | grep -E "GITHUB_|SECRET_KEY"
                    </div>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼š
                        <ul>
                            <li>GITHUB_CLIENT_ID å·²è®¾ç½®</li>
                            <li>GITHUB_CLIENT_SECRET å·²è®¾ç½®</li>
                            <li>GITHUB_WEBHOOK_SECRET å·²è®¾ç½®</li>
                            <li>SECRET_KEY å·²è®¾ç½®</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>1.2 æ•°æ®åº“è¿ç§»</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>è¿è¡Œæ•°æ®åº“è¿ç§»è„šæœ¬</li>
                        <li>æ£€æŸ¥æ•°æ®åº“è¡¨ç»“æ„</li>
                    </ol>
                    <div class="command">
cd backend
python migrations/apply_github_architecture.py
                    </div>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼šæˆåŠŸåˆ›å»º repositoriesã€branchesã€issuesã€pull_requests ç­‰è¡¨
                    </div>
                </div>
            </div>
        </div>

        <h2>äºŒã€OAuth è®¤è¯æµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>2.1 GitHub OAuth åº”ç”¨é…ç½®</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>è®¿é—® GitHub Settings â†’ Developer settings â†’ OAuth Apps</li>
                        <li>ç¡®è®¤åº”ç”¨å·²åˆ›å»ºå¹¶é…ç½®æ­£ç¡®</li>
                        <li>æ£€æŸ¥å›è°ƒ URL æ˜¯å¦åŒ¹é…ï¼š<code>http://localhost:5000/auth/github/callback</code></li>
                    </ol>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼šOAuth åº”ç”¨é…ç½®æ­£ç¡®ï¼ŒClient ID å’Œ Secret ä¸æœ¬åœ°é…ç½®åŒ¹é…
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>2.2 ç™»å½•æµç¨‹æµ‹è¯•</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>å¯åŠ¨åº”ç”¨ï¼š<code>cd backend && python app.py</code></li>
                        <li>è®¿é—® <code>http://localhost:5173</code></li>
                        <li>ç‚¹å‡»"ä½¿ç”¨ GitHub ç™»å½•"</li>
                        <li>æˆæƒåº”ç”¨è®¿é—®</li>
                    </ol>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼š
                        <ul>
                            <li>æˆåŠŸè·³è½¬åˆ° GitHub æˆæƒé¡µé¢</li>
                            <li>æˆæƒåè¿”å›åº”ç”¨</li>
                            <li>æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯</li>
                            <li>Session åˆ›å»ºæˆåŠŸ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>2.3 ç”¨æˆ·ä¿¡æ¯è·å–</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <div class="command">
curl http://localhost:5000/api/user/profile -H "Cookie: session=..."
                    </div>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼šè¿”å›å½“å‰ç™»å½•ç”¨æˆ·çš„ GitHub ä¿¡æ¯
                    </div>
                </div>
            </div>
        </div>

        <h2>ä¸‰ã€ä»“åº“ç®¡ç†åŠŸèƒ½æµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>3.1 å¯¼å…¥ GitHub ä»“åº“</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-data">
                    æµ‹è¯•æ•°æ®ï¼š
                    <ul>
                        <li>å…¬å¼€ä»“åº“ï¼šhttps://github.com/octocat/Hello-World</li>
                        <li>ç§æœ‰ä»“åº“ï¼šä½¿ç”¨æ‚¨è‡ªå·±çš„ç§æœ‰ä»“åº“ URL</li>
                    </ul>
                </div>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>è°ƒç”¨å¯¼å…¥ API</li>
                        <li>æ£€æŸ¥è¿”å›çš„ä»“åº“ä¿¡æ¯</li>
                        <li>éªŒè¯æœ¬åœ°å…‹éš†</li>
                    </ol>
                    <div class="command">
curl -X POST http://localhost:5000/api/github/import \
  -H "Content-Type: application/json" \
  -H "Cookie: session=..." \
  -d '{
    "github_url": "https://github.com/octocat/Hello-World",
    "clone": true
  }'
                    </div>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼š
                        <ul>
                            <li>æˆåŠŸè¿”å›ä»“åº“ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€è¯­è¨€ç­‰ï¼‰</li>
                            <li>æœ¬åœ°ç›®å½•åˆ›å»ºæˆåŠŸ</li>
                            <li>ä»£ç å…‹éš†å®Œæˆ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>3.2 åˆ—å‡ºä»“åº“</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <div class="command">
curl http://localhost:5000/api/repos -H "Cookie: session=..."
                    </div>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼šè¿”å›ç”¨æˆ·çš„æ‰€æœ‰ä»“åº“åˆ—è¡¨ï¼ŒåŒ…å«ç»Ÿè®¡ä¿¡æ¯
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>3.3 åˆ›å»ºæœ¬åœ°ä»“åº“</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>åˆ›å»ºæ–°ä»“åº“</li>
                        <li>éªŒè¯æ•°æ®åº“è®°å½•</li>
                    </ol>
                    <div class="command">
curl -X POST http://localhost:5000/api/repos \
  -H "Content-Type: application/json" \
  -H "Cookie: session=..." \
  -d '{
    "name": "test-project",
    "description": "æµ‹è¯•é¡¹ç›®",
    "organization": "my-team",
    "is_private": true
  }'
                    </div>
                </div>
            </div>
        </div>

        <h2>å››ã€åˆ†æ”¯å’Œä»»åŠ¡ç®¡ç†æµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>4.1 åˆ›å»ºåˆ†æ”¯ï¼ˆä»»åŠ¡ï¼‰</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>ä¸ºä»“åº“åˆ›å»ºæ–°åˆ†æ”¯</li>
                        <li>éªŒè¯ Git åˆ†æ”¯åˆ›å»º</li>
                    </ol>
                    <div class="command">
curl -X POST http://localhost:5000/api/repos/{repo_id}/branches \
  -H "Content-Type: application/json" \
  -H "Cookie: session=..." \
  -d '{
    "name": "feature/test-feature",
    "description": "æµ‹è¯•åŠŸèƒ½åˆ†æ”¯",
    "base_branch": "main"
  }'
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>4.2 AI è¾…åŠ©å¼€å‘</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>æ‰§è¡Œåˆ†æ”¯ä»»åŠ¡</li>
                        <li>ç­‰å¾… AI ç”Ÿæˆä»£ç </li>
                        <li>æ£€æŸ¥ç”Ÿæˆç»“æœ</li>
                    </ol>
                    <div class="command">
curl -X POST http://localhost:5000/api/branches/{branch_id}/execute \
  -H "Cookie: session=..."
                    </div>
                    <div class="warning">
                        âš ï¸ æ³¨æ„ï¼šéœ€è¦é…ç½® AI æ‰§è¡Œå™¨ï¼ˆClaude APIï¼‰
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>4.3 ç»Ÿä¸€å·¥ä½œæµæµ‹è¯•</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>ä½¿ç”¨ç»Ÿä¸€ API åˆ›å»ºå¹¶æ‰§è¡Œä»»åŠ¡</li>
                        <li>éªŒè¯è‡ªåŠ¨åˆ›å»ºåˆ†æ”¯</li>
                        <li>éªŒè¯è‡ªåŠ¨æäº¤</li>
                    </ol>
                    <div class="command">
curl -X POST http://localhost:5000/api/unified/create-and-execute \
  -H "Content-Type: application/json" \
  -H "Cookie: session=..." \
  -d '{
    "repo_id": "repo_123",
    "task": {
        "title": "æ·»åŠ  README æ–‡ä»¶",
        "prompt": "åˆ›å»ºä¸€ä¸ªç®€å•çš„ README.md æ–‡ä»¶",
        "auto_commit": true,
        "auto_pr": false
    }
  }'
                    </div>
                </div>
            </div>
        </div>

        <h2>äº”ã€Issue ç®¡ç†æµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>5.1 åˆ›å»º Issue</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <div class="command">
curl -X POST http://localhost:5000/api/repos/{repo_id}/issues \
  -H "Content-Type: application/json" \
  -H "Cookie: session=..." \
  -d '{
    "title": "æµ‹è¯•è®®é¢˜",
    "description": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•è®®é¢˜",
    "priority": "medium",
    "labels": [{"label": "test", "color": "#0366d6"}]
  }'
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>5.2 åˆ—å‡ºå’Œè¿‡æ»¤ Issues</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>è·å–æ‰€æœ‰è®®é¢˜</li>
                        <li>æŒ‰çŠ¶æ€è¿‡æ»¤</li>
                        <li>æŒ‰ä¼˜å…ˆçº§è¿‡æ»¤</li>
                    </ol>
                    <div class="command">
# è·å–æ‰€æœ‰å¼€æ”¾çš„è®®é¢˜
curl "http://localhost:5000/api/repos/{repo_id}/issues?status=open" \
  -H "Cookie: session=..."

# è·å–é«˜ä¼˜å…ˆçº§è®®é¢˜
curl "http://localhost:5000/api/repos/{repo_id}/issues?priority=high" \
  -H "Cookie: session=..."
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>5.3 æ›´æ–°å’Œå…³é—­ Issue</strong>
                <span class="priority priority-low">å¯é€‰</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>æ›´æ–°è®®é¢˜çŠ¶æ€</li>
                        <li>æ·»åŠ æ ‡ç­¾</li>
                        <li>å…³é—­è®®é¢˜</li>
                    </ol>
                </div>
            </div>
        </div>

        <h2>å…­ã€Pull Request æµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>6.1 åˆ›å»º Pull Request</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>ç¡®ä¿æœ‰ä¸€ä¸ªåŠŸèƒ½åˆ†æ”¯</li>
                        <li>åˆ›å»º PR</li>
                    </ol>
                    <div class="command">
curl -X POST http://localhost:5000/api/repos/{repo_id}/pulls \
  -H "Content-Type: application/json" \
  -H "Cookie: session=..." \
  -d '{
    "title": "æµ‹è¯• PR",
    "body": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯• Pull Request",
    "head": "feature/test-feature",
    "base": "main"
  }'
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>6.2 ä»£ç å®¡æŸ¥</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>æ·»åŠ å®¡æŸ¥è¯„è®º</li>
                        <li>æ‰¹å‡† PR</li>
                    </ol>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>6.3 åˆå¹¶ PR</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>é€‰æ‹©åˆå¹¶ç­–ç•¥</li>
                        <li>æ‰§è¡Œåˆå¹¶</li>
                        <li>éªŒè¯åˆ†æ”¯åˆ é™¤ï¼ˆå¦‚æœé€‰æ‹©ï¼‰</li>
                    </ol>
                </div>
            </div>
        </div>

        <h2>ä¸ƒã€Webhook é›†æˆæµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>7.1 é…ç½® Webhook</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>ä½¿ç”¨ ngrok æš´éœ²æœ¬åœ°ç«¯å£ï¼š<code>ngrok http 5000</code></li>
                        <li>åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ  Webhook</li>
                        <li>é…ç½® URLï¼š<code>https://xxx.ngrok.io/api/webhooks/github</code></li>
                        <li>è®¾ç½® Secret</li>
                    </ol>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>7.2 Ping æµ‹è¯•</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>åœ¨ GitHub Webhook è®¾ç½®é¡µé¢ç‚¹å‡»"Send ping"</li>
                        <li>æ£€æŸ¥åº”ç”¨æ—¥å¿—</li>
                    </ol>
                    <div class="expected-result">
                        âœ… æœŸæœ›ç»“æœï¼šæ”¶åˆ° ping äº‹ä»¶ï¼Œè¿”å› 200 OK
                    </div>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>7.3 Push äº‹ä»¶æµ‹è¯•</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>å‘ä»“åº“æ¨é€ä»£ç </li>
                        <li>æ£€æŸ¥ Webhook æ¥æ”¶</li>
                        <li>éªŒè¯äº‹ä»¶å¤„ç†</li>
                    </ol>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>7.4 æŸ¥çœ‹ Webhook å†å²</strong>
                <span class="priority priority-low">å¯é€‰</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <div class="command">
curl http://localhost:5000/api/webhooks/github/events \
  -H "Cookie: session=..."
                    </div>
                </div>
            </div>
        </div>

        <h2>å…«ã€é›†æˆæµ‹è¯•</h2>

        <div class="test-section">
            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>8.1 ç«¯åˆ°ç«¯å·¥ä½œæµ</strong>
                <span class="priority priority-high">å¿…éœ€</span>
                <div class="test-steps">
                    <p>å®Œæ•´å·¥ä½œæµæµ‹è¯•ï¼š</p>
                    <ol>
                        <li>å¯¼å…¥ GitHub ä»“åº“</li>
                        <li>åˆ›å»ºåŠŸèƒ½åˆ†æ”¯</li>
                        <li>AI ç”Ÿæˆä»£ç </li>
                        <li>åˆ›å»º PR</li>
                        <li>å®¡æŸ¥å¹¶åˆå¹¶</li>
                        <li>éªŒè¯ Webhook é€šçŸ¥</li>
                    </ol>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>8.2 é”™è¯¯å¤„ç†æµ‹è¯•</strong>
                <span class="priority priority-medium">é‡è¦</span>
                <div class="test-steps">
                    <p>æµ‹è¯•å„ç§é”™è¯¯åœºæ™¯ï¼š</p>
                    <ol>
                        <li>æ— æ•ˆçš„ GitHub URL</li>
                        <li>æ— æƒé™è®¿é—®çš„ä»“åº“</li>
                        <li>ç½‘ç»œè¶…æ—¶å¤„ç†</li>
                        <li>Token è¿‡æœŸå¤„ç†</li>
                    </ol>
                </div>
            </div>

            <div class="test-item">
                <span class="test-status" onclick="toggleStatus(this)"></span>
                <strong>8.3 æ€§èƒ½æµ‹è¯•</strong>
                <span class="priority priority-low">å¯é€‰</span>
                <div class="test-steps">
                    <p>éªŒè¯æ­¥éª¤ï¼š</p>
                    <ol>
                        <li>å¤§ä»“åº“å…‹éš†æ€§èƒ½</li>
                        <li>å¹¶å‘è¯·æ±‚å¤„ç†</li>
                        <li>Webhook å“åº”æ—¶é—´</li>
                    </ol>
                </div>
            </div>
        </div>

        <h2>ä¹ã€æµ‹è¯•æŠ¥å‘Š</h2>

        <div class="test-section">
            <h3>æµ‹è¯•ç¯å¢ƒä¿¡æ¯</h3>
            <table>
                <tr>
                    <th>é¡¹ç›®</th>
                    <th>ä¿¡æ¯</th>
                    <th>å¤‡æ³¨</th>
                </tr>
                <tr>
                    <td>æµ‹è¯•æ—¥æœŸ</td>
                    <td><input type="date" id="test-date" class="no-print"></td>
                    <td></td>
                </tr>
                <tr>
                    <td>æµ‹è¯•äººå‘˜</td>
                    <td><input type="text" id="tester" placeholder="è¾“å…¥æµ‹è¯•äººå‘˜å§“å" class="no-print"></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Python ç‰ˆæœ¬</td>
                    <td><input type="text" id="python-version" placeholder="ä¾‹å¦‚: 3.9.0" class="no-print"></td>
                    <td></td>
                </tr>
                <tr>
                    <td>æ“ä½œç³»ç»Ÿ</td>
                    <td><input type="text" id="os-info" placeholder="ä¾‹å¦‚: macOS 12.0" class="no-print"></td>
                    <td></td>
                </tr>
            </table>

            <h3>å‘ç°çš„é—®é¢˜</h3>
            <textarea id="issues-found" rows="5" style="width: 100%; margin: 10px 0;" placeholder="è®°å½•æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°çš„é—®é¢˜..." class="no-print"></textarea>

            <h3>æ”¹è¿›å»ºè®®</h3>
            <textarea id="suggestions" rows="5" style="width: 100%; margin: 10px 0;" placeholder="å¯¹ç³»ç»Ÿçš„æ”¹è¿›å»ºè®®..." class="no-print"></textarea>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <button onclick="exportReport()" style="background-color: #0366d6; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px;" class="no-print">ğŸ“„ å¯¼å‡ºæµ‹è¯•æŠ¥å‘Š</button>
            <button onclick="window.print()" style="background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px;" class="no-print">ğŸ–¨ï¸ æ‰“å°æµ‹è¯•æ¸…å•</button>
            <button onclick="resetTests()" style="background-color: #d73a49; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px;" class="no-print">ğŸ”„ é‡ç½®æ‰€æœ‰æµ‹è¯•</button>
        </div>
    </div>

    <script>
        // æµ‹è¯•çŠ¶æ€ç®¡ç†
        const statusCycle = ['', 'passed', 'failed', 'pending'];
        
        function toggleStatus(element) {
            const currentClass = element.className.replace('test-status ', '');
            const currentIndex = statusCycle.indexOf(currentClass);
            const nextIndex = (currentIndex + 1) % statusCycle.length;
            element.className = 'test-status ' + statusCycle[nextIndex];
            updateProgress();
        }

        function updateProgress() {
            const allTests = document.querySelectorAll('.test-status');
            const total = allTests.length;
            const passed = document.querySelectorAll('.test-status.passed').length;
            const failed = document.querySelectorAll('.test-status.failed').length;
            const pending = document.querySelectorAll('.test-status.pending').length;
            const completed = passed + failed + pending;
            
            document.getElementById('total-tests').textContent = total;
            document.getElementById('passed-tests').textContent = passed;
            document.getElementById('failed-tests').textContent = failed;
            document.getElementById('pending-tests').textContent = pending;
            
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
            const progressBar = document.getElementById('progress');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
            
            // ä¿å­˜çŠ¶æ€åˆ° localStorage
            saveTestState();
        }

        function saveTestState() {
            const testStates = [];
            document.querySelectorAll('.test-status').forEach((element, index) => {
                const status = element.className.replace('test-status ', '');
                testStates.push(status);
            });
            localStorage.setItem('githubTestStates', JSON.stringify(testStates));
            localStorage.setItem('testDate', document.getElementById('test-date').value);
            localStorage.setItem('tester', document.getElementById('tester').value);
            localStorage.setItem('pythonVersion', document.getElementById('python-version').value);
            localStorage.setItem('osInfo', document.getElementById('os-info').value);
            localStorage.setItem('issuesFound', document.getElementById('issues-found').value);
            localStorage.setItem('suggestions', document.getElementById('suggestions').value);
        }

        function loadTestState() {
            const savedStates = localStorage.getItem('githubTestStates');
            if (savedStates) {
                const states = JSON.parse(savedStates);
                document.querySelectorAll('.test-status').forEach((element, index) => {
                    if (states[index]) {
                        element.className = 'test-status ' + states[index];
                    }
                });
            }
            
            // æ¢å¤å…¶ä»–æ•°æ®
            document.getElementById('test-date').value = localStorage.getItem('testDate') || '';
            document.getElementById('tester').value = localStorage.getItem('tester') || '';
            document.getElementById('python-version').value = localStorage.getItem('pythonVersion') || '';
            document.getElementById('os-info').value = localStorage.getItem('osInfo') || '';
            document.getElementById('issues-found').value = localStorage.getItem('issuesFound') || '';
            document.getElementById('suggestions').value = localStorage.getItem('suggestions') || '';
            
            updateProgress();
        }

        function resetTests() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰æµ‹è¯•çŠ¶æ€å—ï¼Ÿ')) {
                document.querySelectorAll('.test-status').forEach(element => {
                    element.className = 'test-status';
                });
                localStorage.removeItem('githubTestStates');
                updateProgress();
            }
        }

        function exportReport() {
            const report = {
                testDate: document.getElementById('test-date').value,
                tester: document.getElementById('tester').value,
                environment: {
                    python: document.getElementById('python-version').value,
                    os: document.getElementById('os-info').value
                },
                summary: {
                    total: document.getElementById('total-tests').textContent,
                    passed: document.getElementById('passed-tests').textContent,
                    failed: document.getElementById('failed-tests').textContent,
                    pending: document.getElementById('pending-tests').textContent
                },
                issues: document.getElementById('issues-found').value,
                suggestions: document.getElementById('suggestions').value,
                timestamp: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(report, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `github-test-report-${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }

        // ç›‘å¬è¾“å…¥å˜åŒ–
        document.querySelectorAll('input, textarea').forEach(element => {
            element.addEventListener('change', saveTestState);
        });

        // é¡µé¢åŠ è½½æ—¶æ¢å¤çŠ¶æ€
        window.onload = function() {
            loadTestState();
            // è®¾ç½®é»˜è®¤æ—¥æœŸä¸ºä»Šå¤©
            if (!document.getElementById('test-date').value) {
                document.getElementById('test-date').value = new Date().toISOString().split('T')[0];
            }
        };
    </script>
</body>
</html>